---
redirect_from: /_posts/2022-03-30-6-指令系统.md
title: 第六章 指令系统
tags: 计算机组成原理
---

## 6.1 机器指令

### 6.1.1 指令的一般格式

指令由操作码和地址码两部分组成

![指令的一般格式](/assets/image/计算机组成原理/指令系统/指令的一般格式.jpg)

#### **一、操作码**

操作码用来指明机器做什么操作。通常,其位数反映了机器的操作种类,也即机器允许的指令条数,如操作码占7位,则该机器最多包含128条指令

操作码的长度可以是固定的,也可以是变化的。前者将操作码集中放在指令字的一个字段内，这种格式便于硬件设计,指令译码时间短,广泛用于字长较长的、大中型计算机和超级小型计算机以及RISC；
操作码长度不固定的指令,其操作码分散在指令字的不同字段中。这种格式可有效地压缩操作码的平均长度,在字长较短的微机中被广泛采用。

- **扩展操作码技术**

扩展操作码技术使操作码的长度随地址数的减少而增加,不同地址数的指令可以具有不同长度的操作码,从而在满足需要的前提下,有效地缩短指令字长。


![扩展操作码1](/assets/image/计算机组成原理/指令系统/扩展操作码1.jpg)

图中指令字长为16位,其中4位为基本操作码字段OP,另有三个4位长的地址字段为$A_{1}$、$A_{2}$、$A_{3}$4位基本操作码若全部用于三地址指令,则有16条。图中所示是三地址指令15条,二地址指令15条,一地址指令15条,零地址指令16条，共61条。

这种方法采用操作码的前几位作为标志，从而确定操作码的位数。三地址指令操作码每减少一种最多可多构成$2^{4}$种二地址指令;二地址指令操作码每减少一种最多可多构成$2^{4}$种一地址指令。

一般使用短操作码表示高频指令，长操作码表示低频指令。操作码越短，比较次数越少，速度越快。


#### **二、地址码**

> 地址码用来指出该指令的源操作数的地址(一个或两个)、结果的地址以及下一条指令的地址。这里的“地址”可以是主存的地址,也可以是寄存器的地址,甚至可以是I/O设备的地址

**设指令字长为32位，操作码固定为8位**

- **四地址**

![四地址](/assets/image/计算机组成原理/指令系统/四地址.jpg)

- **三地址**

四地址最大寻址范围为$2^{6}=64$,若使用PC代替$A_{4}$保存下一条指令的地址，则变为三地址指令，每个地址为8位，最大寻址范围位$2^{8}=256$

![三地址](/assets/image/计算机组成原理/指令系统/三地址.jpg)

- **二地址**

若使用$A_{1}$或$A_{2}$代替$A_{3}$，将操作结果写入$A_{1}$或$A_{2}$中，则变为二地址，每个地址为12位，最大寻址范围位$2^{12}=4K$

![二地址](/assets/image/计算机组成原理/指令系统/二地址.jpg)

若将结果存放于ACC寄存器中，则只会访存三次

- **一地址**

若使用ACC寄存器代替$A_{1}$或$A_{2}$，将操作结果写入ACC中，则变为一地址，每个地址为24位，最大寻址范围位$2^{24}=16M$，并且只产生两次访存

![一地址](/assets/image/计算机组成原理/指令系统/一地址.jpg)

- **零地址**

零地址指令在指令字中无地址码,例如进栈(PUSH)、出栈(POP)这类指令,其操作数的地址隐含在堆栈指针SP中

### 6.1.2 指令字长

![指令字长](/assets/image/计算机组成原理/指令系统/指令字长.jpg)

## 6.2 操作数类型和操作类型
## 6.3 寻址方式
## 6.4 指令格式举例
## 6.5 RISC 技术
