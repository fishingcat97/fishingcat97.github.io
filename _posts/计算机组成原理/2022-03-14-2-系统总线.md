---
redirect_from: /_posts/2022-03-12-系统总线.md
title: 第二章 系统总线
tags: 计算机组成原理
---
## 2.1 总线的基本概念

计算机系统的五大部件之间的互连方式有两种,一种是各部件之间通过单独的连线,叫儆分散连接;另一种是将各部件连到一组公共信息传输线上,叫做总线连接。

### 一、为什么要用总线？
早期的计算机大多数用分散连接方式,。它是以运算器为中心的结构,其内部连线十分复杂,尤其是当I/O与存储器交换信息时,都需经过运算器,致使运算器停止运算,严重影响了CPU的工作效率。后来,虽然改进为以存储器为中心的分散连接结构,I/O与主存交换信息可以不经过运算器,又采用了中断、DMA等技术,使CPU工作效率得到很大的提高,但是仍无法解决I/O设备与主机之间连接的灵活性。随着计算机应用领域的不断扩大,IO设备的种类和数量也越来越多,人们希望随时增添或减撤设备,用分散连接方式简直是一愁莫展,由此出现了总线连接方式。  
![以运算器为中心](/assets/image/计算机组成原理/计算机系统概论/冯·诺依曼计算机硬件框图.jpg)
![以存储器为中心](/assets/image/计算机组成原理/计算机系统概论/以存储器为中心的计算机硬件框图.jpg)
### 二、什么是总线  
总线是连接多个部件的信息传输线,是各部件共享的传输介质。当多个部件与总线相连时,如果出现两个或两个以上部件同时向总线发送信息,势必导致信号冲突,传输无效。因此,在某一时刻,只允许有一个部件向总线发送信息,而多个部件可以同时从总线上接收相同的信息。

总线实际上是由许多传输线或通路组成,每条线可传输一位二进制代码,一串二进制代码可在一段时间内逐一传输完成。若干条传输线可以同时传输若干位二进制代码,如16条传输线组成的总线,可同时传输16位二进制代码。  

### 三、总线上信息的传输

- 串行传输  
把要传输的信息一位一位放到总线上传输，接收方一位一位的接收。传输距离较长，适合于机器与机器之间  

- 并行传输  
要传输的数据多为同时放在总线上进行传输，接收方同时接收多位数据。需要多条数据线，若传输距离较长，数据线之间会产生干扰，传输的信号会变形，若要远距离传输需采用一定手段。一般用于计算机内部。

串行总线频率比并行总线高得多，且不易出错。而串行还可采用低压差分信号提高抗干扰性，所以可以实现更高的传输速率。虽然并行总线可一次传多个数据位，但是时钟远远低于串行，所以串行传输是目前高速传输的首选。  
![总线上信息的传输](/assets/image/计算机组成原理/系统总线/总线上信息的传输.jpg)

### 四、总线结构

- 单总线结构  
![单总线结构](/assets/image/计算机组成原理/系统总线/单总线结构.jpg)   
当I/O与主存交换信息时,原则上不影响CPU的工作,CPU仍可继续处理不访问主存或I/O的操作,这就使CPU工作效率有所提高。但是,因为只有一组总线,当某一时刻各部件都要占用时,就会出现争夺现象。为此,总线内部必须设判优机构,让各部件按优先级高低占用总线,这会影响整机工作速度。  
- 面向CPU的双总线结构  
![CPU为中心双总线结构](/assets/image/计算机组成原理/系统总线/以CPU为中心的双总线结构.jpg)  
其中一组总线连接CPU和主存,叫存储总线M总线),另一组用来建立CPU和各I/O之间交换信息的通道,叫输入输出总线(I/O总线),各种I/O设备通过I/O接口挂到I/O总线上。这种结构在I/O设备与主存交换信息时仍然要占用CPU,因此还会影响CPU的工作效率。  
- 面向存储器的双总线结构  
![以存储器为中心的双总线结构](/assets/image/计算机组成原理/系统总线/以存储器为中心的双总线结构.jpg)  
它是在单总线基础上,又单独开辟一条CPU与主存之间的通路,叫存储总线。这组总线速度高,只供主存与CPU之间传输信息。这样既提高了传输效率,又减轻了系统总线的负担,还保留了I/O与存储器交换信息时不经过CPU的特点。  

## 2.2 总线的分类

- 片内总线：芯片内部的总线，如在CPU芯片内部,寄存器与寄存器之间、寄存器与算逻单元ALU之间都有总线连接。
- 系统总线：计算机各部件之间的信息传输线，如CPU、主存、IO(通过MO接口)各大部件之间的信息传输线。按传输信息可分为三类：
    - 数据总线：数据总线用来传输各功能部件之间的数据信息,它是双向传输总线。
    - 地址总线：地址总线主要用来指出数据总线上的源数据或目的数据在主存单元的地址,是单向传输的。
    - 控制总线：控制总线是用来发出各种控制信号的传输线,控制信号既有出(存储器读、存储器写、总线使用权许可、中断确认),又有入(中断请求、总线请求)，出、入是相对于CPU而言的。  
- 通信总线：用于 计算机系统之间 或 计算机系统 与其他系统(如控制仪表、移动通信等) 之间的通信。

## 2.3 总线性能及性能指标



## 2.4 总线结构

## 2.5 总线控制