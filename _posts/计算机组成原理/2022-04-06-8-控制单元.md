redirect_from: /_posts/2022-04-06-8-控制单元.md
title: 第八章 控制单元
tags: 计算机组成原理
---

## 8.1 微操作命令分析

### 8.1.1 取指周期

![取指周期](/assets/image/计算机组成原理/控制单元/取指周期.jpg)

### 8.1.2 间址周期

![间址周期](/assets/image/计算机组成原理/控制单元/间址周期.jpg)

### 8.1.3 执行周期

**1.非访存指令**

![非访存指令](/assets/image/计算机组成原理/控制单元/非访存指令执行周期.jpg)

**2.访存指令**

![访存指令](/assets/image/计算机组成原理/控制单元/访存指令执行周期.jpg)

**3.转移指令**

![转移指令](/assets/image/计算机组成原理/控制单元/转移指令执行周期.jpg)


### 8.1.4 三类指令的指令周期

![三类指令的指令周期](/assets/image/计算机组成原理/控制单元/三类指令的指令周期.jpg)


### 8.1.5 中断周期

![中断周期](/assets/image/计算机组成原理/控制单元/中断周期.jpg)

## 8.2 控制单元的功能

### 8.2.1 控制单元的外特性

![控制单元的外特性](/assets/image/计算机组成原理/控制单元/控制单元的外特性.jpg)

**1.输入信号**

- 时钟
- 指令寄存器
- 标志，控制单元有时需依赖CPU当前所处的状态(如ALU操作的结果)产生控制信号,如BAN指令,控制单元要根据上条指令的结果是否为负而产生不同的控制信号。
- 外来信号，如中断请求、DMA请求

**2.输出信号**

- CPU内的控制信号,主要用于CPU内的寄存器之间的传送和控制ALU实现不同的操作
- 送至控制总线的信号,如命令主存或I/O读/写,中断响应等

### 8.2.2 控制信号举例（以 ADD @ X  为例）

**1.不采用CPU内部总线的方式**

![不采用CPU内部总线的方式](/assets/image/计算机组成原理/控制单元/不采用CPU内部总线的方式.jpg)

**2.采用CPU内部总线方式**

![采用CPU内部总线方式](/assets/image/计算机组成原理/控制单元/采用CPU内部总线方式.jpg)

### 8.2.3 多级时序系统

**1.机器周期**

- 机器周期:所有指令执行过程中的一个基准时间
- 确定机器周期时,通常要分析机器指令的执行步骤及每一步骤所需的时间
- 基准时间的确定
    - 以完成复杂指令功能所需的时间(最长时间)作为基准
    - 以访问一次存储器的时间定为基准时间
- 在存储字长等于指令字长的前提下,取指周期也可看作机器周期    

**2.时钟周期（节拍、状态）**

在一个机器周期里可完成若干个微操作,每个微操作都需一定的时间,可用时钟信号来控制产生每一个微操作命令。这样,一个机器周期内就包含了若干个时钟周期,又称节拍或状态。每个节拍的宽度正好对应一个时钟周期。在每个节拍内机器可完成一个或几个需同时执行的操作

**3.多级时序系统**

机器周期、节拍（状态）组成多级时序系统

- 一个指令周期包含若干个机器周期
- 一个机器周期包含若干个时钟周期

![多级时序系统](/assets/image/计算机组成原理/控制单元/多级时序系统.jpg)

**4.机器速度与机器主频的关系**

- 机器的主频f越快机器的速度也越快;在机器周期所含时钟周期数相同的前提下,两机平均指令执行速度之比等于两机主频之比
- 机器速度不仅与主频有关，还与机器周期中所含时钟周期（主频的倒数）数以及指令周期中所含的机器周期数有关

### 8.2.4 控制方式 

> 产生不同微操作命令序列所用的时序控制方式

**1.同步控制方式**

> 任一微操作均由统一基准时标的时序信号控制

![同步控制方式](/assets/image/计算机组成原理/控制单元/同步控制方式.jpg)

(1) 采用定长的机器周期

以最长的微操作序列和最复杂的微操作作为标准,机器周期内节拍数相同

(2) 采用不定长的机器周期

每个机器周期内的节拍数可以不等。这种控制方式可解决微操作执行时间不统一的问题。通常把大多数微操作安排在一个较短的机器周期内完成,而对某些复杂的微操作,采用延长机器周期或增加节拍的办法来解决。

![采用不定长的机器周期](/assets/image/计算机组成原理/控制单元/采用不定长的机器周期.jpg)

(3) 采用中央控制和局部控制相结合的方法

将机器的大部分指令安排在统一的、较短的机器周期内完成,称为中央控制,而将少数操作复杂的指令中的某些操作采用局部控制方式来完成,如乘除法和浮点运算等。

![采用中央控制和局部控制相结合的方法](/assets/image/计算机组成原理/控制单元/采用中央控制和局部控制相结合的方法.jpg)

**2.异步控制方式**

- 无基准时标信号 
- 无固定的周期节拍和严格的时钟同步
- 采用应答方式

**3.联合控制方式**

同步与异步相结合

**4.人工控制方式**

- Reset
- 连续和单条指令执行转换开关
-符合停机开关